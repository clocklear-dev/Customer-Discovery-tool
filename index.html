<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red Hat Customer Discovery Tool</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Red Hat inspired Palette */
        :root {
            --rh-red: #CC0000;
            --rh-dark-navy: #131B2A;
            --rh-blue: #004FFF; /* Kept for strong accent/links */
            --rh-light-cream: #FFF6E5;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--rh-light-cream);
            color: var(--rh-dark-navy);
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .accordion-content.active {
            max-height: 500px; /* Adjust as needed for content */
            transition: max-height 0.5s ease-in;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: var(--rh-red);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Style for sub-questions dropdown */
        .sub-questions {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .sub-questions.active {
            max-height: 200px; /* Adjust as needed for content */
            transition: max-height 0.5s ease-in;
        }
    </style>
</head>
<body class="text-[--rh-dark-navy] bg-[--rh-light-cream]">
    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <!-- Header Section -->
        <header class="bg-red-700 text-white p-6 rounded-lg shadow-lg mb-8 text-center" style="background-color: var(--rh-red);">
            <h1 class="text-3xl md:text-4xl font-bold mb-2">Red Hat Customer Discovery Tool</h1>
            <p class="text-lg md:text-xl">Empowering MDRs for impactful conversations</p>
        </header>

        <!-- New: Customer Information Section -->
        <section class="bg-white p-6 rounded-lg shadow-md mb-8 border-t-4 border-red-600">
            <h2 class="text-2xl font-semibold text-[--rh-dark-navy] mb-4">Customer & Opportunity Details</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="accountName" class="block text-sm font-medium text-gray-700">Account Name (Required)</label>
                    <input type="text" id="accountName" required class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-[--rh-red] focus:border-[--rh-red]">
                </div>
                <div>
                    <label for="opportunityId" class="block text-sm font-medium text-gray-700">Opportunity ID / SFDC Link</label>
                    <input type="text" id="opportunityId" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-[--rh-red] focus:border-[--rh-red]">
                </div>
                <div>
                    <label for="customerContact" class="block text-sm font-medium text-gray-700">Customer Contact Name</label>
                    <input type="text" id="customerContact" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-[--rh-red] focus:border-[--rh-red]">
                </div>
                <div>
                    <label for="contactTitle" class="block text-sm font-medium text-gray-700">Contact Title / Role</label>
                    <input type="text" id="contactTitle" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-[--rh-red] focus:border-[--rh-red]">
                </div>
                <div class="md:col-span-2">
                    <label for="meetingDate" class="block text-sm font-medium text-gray-700">Meeting Date</label>
                    <input type="date" id="meetingDate" class="mt-1 block w-1/2 md:w-1/4 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-[--rh-red] focus:border-[--rh-red]">
                </div>
            </div>
        </section>

        <!-- Key Questions Section -->
        <section class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-semibold text-[#004FFF] mb-4">Key Questions to Ask</h2>
            <p class="mb-4 text-gray-600">These questions are designed to help you uncover the customer's priorities, challenges, and current technology landscape.</p>

            <!-- Accordion for Questions -->
            <div id="questions-accordion">
                <!-- General Discovery -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none rounded-t-lg">
                        <span class="font-medium text-lg">General Business & IT Priorities</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <ul class="list-disc pl-5 space-y-2 text-gray-700">
                            <li>What are your top 3 IT priorities for the next 12-18 months?</li>
                            <li>What are the biggest challenges your organization is currently facing related to technology or operations?</li>
                            <li>What initiatives are you currently focused on that involve IT?</li>
                            <li>How does IT contribute to your overall business goals?</li>
                            <li>What does success look like for these initiatives?</li>
                        </ul>
                    </div>
                </div>

                <!-- Application & Development -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none">
                        <span class="font-medium text-lg">Applications & Development Practices</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <ul class="list-disc pl-5 space-y-2 text-gray-700">
                            <li>What kind of applications are you building or running (e.g., custom, COTS, legacy)?</li>
                            <li>Are you looking to modernize existing applications or build new cloud-native ones?</li>
                            <li>What development methodologies do your teams use (e.g., Agile, DevOps, Waterfall)?</li>
                            <li>Are you currently using or considering containers (Docker, Podman) or container orchestration (Kubernetes)?</li>
                            <li>How do you manage your application lifecycle from development to production?</li>
                        </ul>
                    </div>
                </div>

                <!-- Infrastructure & Cloud -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none">
                        <span class="font-medium text-lg">Infrastructure & Cloud Strategy</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <ul class="list-disc pl-5 space-y-2 text-gray-700">
                            <li>What's your current infrastructure setup (on-premise, hybrid cloud, multi-cloud)?</li>
                            <li>Which cloud providers are you currently using or evaluating (AWS, Azure, GCP, others)?</li>
                            <li>How are you handling server provisioning, configuration, and patching?</li>
                            <li>What are your strategies for automation and orchestration across your IT environment?</li>
                            <li>Are you looking to consolidate or optimize your existing infrastructure?</li>
                            <li>
                                <span class="sub-question-toggle cursor-pointer font-semibold text-[#004FFF] hover:underline flex items-center">
                                    What operating systems are currently in use across your infrastructure (e.g., Windows Server, specific Linux distributions)?
                                    <svg class="inline-block w-4 h-4 ml-1 transform transition-transform duration-300 sub-question-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </span>
                                <ul class="sub-questions ml-6 mt-2 space-y-1 text-gray-600 text-sm italic">
                                    <li>If Windows: How are you currently managing patching, updates, and automation for your Windows servers? What challenges do you face?</li>
                                    <li>If other Linux distros (not RHEL): What are your considerations around consolidating or standardizing your Linux environments? What are your current challenges with procurement, security, or support for these non-RHEL systems?</li>
                                </ul>
                            </li>
                            <li>What types of workloads are deployed on these different operating systems?</li>
                            <li>Roughly what percentage of your infrastructure is on-premise versus in the cloud?</li>
                        </ul>
                    </div>
                </div>

                <!-- Data & AI/ML -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none">
                        <span class="font-medium text-lg">Data & Emerging Technologies (AI/ML)</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <ul class="list-disc pl-5 space-y-2 text-gray-700">
                            <li>How are you currently managing and analyzing your data?</li>
                            <li>Are you exploring or implementing any AI/ML initiatives? If so, for what purposes?</li>
                            <li>What challenges do you face with data integration or accessibility?</li>
                        </ul>
                    </div>
                </div>

                <!-- Security & Compliance -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none">
                        <span class="font-medium text-lg">Security & Compliance</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <ul class="list-disc pl-5 space-y-2 text-gray-700">
                            <li>What are your key security concerns or challenges?</li>
                            <li>Are there specific industry regulations or compliance requirements you need to meet (e.g., GDPR, HIPAA, PCI DSS)?</li>
                            <li>How do you manage identity and access across your systems?</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Understanding Environment Section -->
        <section class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-semibold text-[#004FFF] mb-4">Understanding the Customer's Environment</h2>
            <p class="mb-4 text-gray-600">Check off the technologies and concepts you hear the customer reference:</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-xl font-medium mb-2 text-[--rh-dark-navy]">Common Technologies to Listen For:</h3>
                    <div class="space-y-2 text-gray-700">
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span>Operating Systems (Linux distributions like RHEL, CentOS, Ubuntu; Windows Server)</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span>Virtualization (VMware vSphere, KVM, Hyper-V)</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span>Cloud Platforms (AWS, Azure, Google Cloud, OpenStack)</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span>Container Runtimes (Docker, Podman) & Orchestration (Kubernetes, OpenShift)</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span>Databases (MySQL, PostgreSQL, Oracle, SQL Server, MongoDB, Cassandra)</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span>Middleware & Application Servers (JBoss, Apache Tomcat, WebLogic, WebSphere)</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span>DevOps Tools (Jenkins, GitLab CI/CD, Ansible, Terraform)</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span>Monitoring & Logging (Prometheus, Grafana, ELK Stack, Splunk)</span>
                        </label>
                    </div>
                </div>
                <div>
                    <h3 class="text-xl font-medium mb-2 text-[--rh-dark-navy]">How Red Hat Fits:</h3>
                    <div class="space-y-2 text-gray-700">
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span><strong>Red Hat Enterprise Linux (RHEL):</strong> Foundation for critical workloads.</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span><strong>OpenShift:</strong> Enterprise Kubernetes platform for hybrid cloud.</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span><strong>Ansible Automation Platform:</strong> Automate IT operations, infrastructure, and applications.</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span><strong>OpenStack Platform:</strong> Scalable IaaS for private clouds.</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span><strong>Integration (Fuse, AMQ):</strong> Connect applications and data across hybrid environments.</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span><strong>Storage (Ceph):</strong> Software-defined storage for diverse workloads.</span>
                        </label>
                        <label class="flex items-start">
                            <input type="checkbox" class="mt-1 mr-2 rounded text-[--rh-red] focus:ring-[--rh-red] border-gray-300">
                            <span><strong>Management (Satellite, Insights):</b> Manage and optimize Red Hat infrastructure.</span>
                        </label>
                    </div>
                </div>
            </div>
            <p class="mt-4 text-gray-600 italic"><strong>Tip:</strong> Listen for pain points related to complexity, manual processes, lack of scalability, security concerns, or vendor lock-in. These are often areas where Red Hat can provide significant value.</p>
        </section>

        <!-- Red Hat Product Ecosystem & Upstream Projects Section -->
        <section class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-semibold text-[#004FFF] mb-4">Red Hat Product Ecosystem & Upstream Projects</h2>
            <p class="mb-4 text-gray-600">Red Hat's products are built on a foundation of robust open-source projects. Understanding these relationships can help you explain the value of Red Hat's enterprise-grade solutions.</p>

            <div class="mb-6 text-gray-700">
                <p class="font-semibold mb-2">Key relationships include:</p>
                <ul class="list-disc pl-5 space-y-2">
                    <li><strong>Red Hat Enterprise Linux (RHEL):</strong> Derived from the **Fedora Linux** project, with contributions back to the community.</li>
                    <li><strong>Red Hat OpenShift:</strong> Built upon **Kubernetes**, and integrates numerous other open-source projects like **Tekton** (for Pipelines), **Argo CD** (for GitOps), **Knative** (for Serverless), and **Istio** & **Kiali** (for Service Mesh).</li>
                    <li><strong>Red Hat Ansible Automation Platform:</strong> Based on the open-source **Ansible** automation engine.</li>
                    <li><strong>Red Hat OpenStack Platform:</strong> An enterprise distribution of the **OpenStack** cloud infrastructure project.</li>
                    <li><strong>Red Hat JBoss Middleware:</b> Many components are based on projects like **WildFly** (for JBoss EAP) and various Apache projects.</li>
                    <li><strong>Red Hat Ceph Storage:</strong> Built on the **Ceph** distributed storage project.</li>
                    <li><strong>Red Hat OpenShift AI:</strong> Leverages projects like **vLLM** for inferencing and is closely tied to the **InstructLab** project and **Granite** LLMs.</li>
                </ul>
                <p class="mt-4 italic">Red Hat actively contributes to these upstream communities, ensuring the health and innovation of the open-source projects that form the backbone of its products.</p>
            </div>
        </section>

        <!-- New: MEDDPICC Sales Qualification Section -->
        <section class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-semibold text-[#004FFF] mb-4">MEDDPICC Sales Qualification</h2>
            <p class="mb-4 text-gray-600">MEDDPICC is a powerful sales methodology to qualify opportunities and guide your conversations in complex enterprise deals. Use these prompts to gather critical information:</p>

            <div id="meddpicc-accordion">
                <!-- Metrics -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none rounded-t-lg">
                        <span class="font-medium text-lg">M - Metrics</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <p class="mb-2 text-gray-700">**Metrics** refers to the quantifiable economic benefits the customer expects from your solution.</p>
                        <ul class="list-disc pl-5 space-y-1 text-gray-700">
                            <li>What are the key business objectives or KPIs this initiative aims to impact?</li>
                            <li>How do you currently measure success for this area? What are the baseline numbers?</li>
                            <li>What is the potential ROI or cost savings you anticipate if this problem is solved?</li>
                            <li>What are the financial implications of *not* addressing this challenge?</li>
                        </ul>
                    </div>
                </div>

                <!-- Economic Buyer -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none">
                        <span class="font-medium text-lg">E - Economic Buyer</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <p class="mb-2 text-gray-700">The **Economic Buyer** is the individual with the final financial authority to approve the purchase.</p>
                        <ul class="list-disc pl-5 space-y-1 text-gray-700">
                            <li>Who ultimately controls the budget for this project?</li>
                            <li>What are their primary business priorities and how does this initiative align with them?</li>
                            <li>What information do they need to see to justify this investment?</li>
                            <li>Are there other key stakeholders who influence the final budget approval?</li>
                        </ul>
                    </div>
                </div>

                <!-- Decision Criteria -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none">
                        <span class="font-medium text-lg">D - Decision Criteria</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <p class="mb-2 text-gray-700">**Decision Criteria** are the specific technical, business, and financial requirements the customer will use to evaluate solutions.</p>
                        <ul class="list-disc pl-5 space-y-1 text-gray-700">
                            <li>What are the most critical factors you'll use to evaluate potential solutions?</li>
                            <li>What are your "must-have" requirements versus "nice-to-have" features?</li>
                            <li>How will you weigh factors like cost, performance, security, and ease of integration?</li>
                            <li>What does an ideal solution look like for your organization?</li>
                        </ul>
                    </div>
                </div>

                <!-- Decision Process -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none">
                        <span class="font-medium text-lg">D - Decision Process</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <p class="mb-2 text-gray-700">The **Decision Process** outlines the steps and timeline the customer will follow to make a purchase decision.</p>
                        <ul class="list-disc pl-5 space-y-1 text-gray-700">
                            <li>What are the key stages in your decision-making process for a solution like this?</li>
                            <li>Who needs to be involved at each stage, and what is their role?</li>
                            <li>What is your target timeline for making a decision and implementing a solution?</li>
                            <li>Are there any formal processes (e.g., RFP, PoC) that we need to be aware of?</li>
                        </ul>
                    </div>
                </div>

                <!-- Paper Process -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none">
                        <span class="font-medium text-lg">P - Paper Process</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <p class="mb-2 text-gray-700">The **Paper Process** refers to the administrative, legal, and procurement steps required to finalize the contract.</p>
                        <ul class="list-disc pl-5 space-y-1 text-gray-700">
                            <li>What is your internal process for legal review and contract approval?</li>
                            <li>Are there any specific terms, conditions, or security reviews required for new vendors?</li>
                            <li>Who are the key contacts in your procurement and legal departments?</li>
                            <li>What is a realistic timeframe for completing the contracting process?</li>
                        </ul>
                    </div>
                </div>

                <!-- Identify Pain -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none">
                        <span class="font-medium text-lg">I - Identify Pain</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <p class="mb-2 text-gray-700">**Identify Pain** means uncovering the critical business challenges the customer is facing that your solution can address.</p>
                        <ul class="list-disc pl-5 space-y-1 text-gray-700">
                            <li>What are the biggest challenges or pain points your team/organization is currently experiencing?</li>
                            <li>How are these challenges impacting your business operations or goals?</li>
                            <li>What are the consequences if these problems are not addressed?</li>
                            <li>Have you tried to solve this problem before? What was the outcome?</li>
                        </ul>
                    </div>
                </div>

                <!-- Champion -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none">
                        <span class="font-medium text-lg">C - Champion</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <p class="mb-2 text-gray-700">The **Champion** is an influential person within the customer's organization who advocates for your solution.</p>
                        <ul class="list-disc pl-5 space-y-1 text-gray-700">
                            <li>Who within your organization is most passionate about solving this problem?</li>
                            <li>Who stands to gain the most from a successful implementation of our solution?</li>
                            <li>How can I best support you in communicating the value of our solution internally?</li>
                            <li>Who are the key influencers or decision-makers you would recommend I engage with?</li>
                        </ul>
                    </div>
                </div>

                <!-- Competition -->
                <div class="mb-4 border border-gray-200 rounded-lg">
                    <button class="accordion-header flex justify-between items-center w-full p-4 bg-gray-50 hover:bg-gray-100 focus:outline-none rounded-b-lg">
                        <span class="font-medium text-lg">C - Competition</span>
                        <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content p-4 bg-white rounded-b-lg">
                        <p class="mb-2 text-gray-700">**Competition** refers to all alternatives the customer might consider, including direct competitors, internal solutions, or doing nothing.</p>
                        <ul class="list-disc pl-5 space-y-1 text-gray-700">
                            <li>What other solutions or approaches are you currently evaluating?</li>
                            <li>What are the strengths and weaknesses you perceive in those alternatives?</li>
                            <li>What happens if you decide to do nothing or stick with the status quo?</li>
                            <li>Are there any internal projects or initiatives that could compete for budget or resources?</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- New: Additional Red Hat Resources Section -->
        <section class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-semibold text-[#004FFF] mb-4">Additional Red Hat Resources</h2>
            <p class="mb-4 text-gray-600">Here's a curated list of valuable Red Hat resources to further empower your customer conversations. **Note: These links are placeholders and should be updated with your organization's actual internal URLs.**</p>

            <div class="space-y-6">
                <div>
                    <h3 class="text-xl font-semibold text-[--rh-dark-navy] mb-3">MDR Specific Resources (Built & Maintained by MDR SA Team)</h3>
                    <ul class="list-disc pl-5 space-y-2 text-gray-700">
                        <li><a href="#" class="text-[#004FFF] hover:underline">MDR Guide - SKU and Subscription Sizing</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">MDR FAQs - Generic + Product specific</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Qualifying/discovery questions guide - MDR</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">MDR Guide: Up-Sell/Cross-Sell Discovery Questions Cheatsheet</a>
                            <ul class="list-circle pl-6 mt-1 text-sm italic">
                                <li><a href="#" class="text-gray-600 hover:underline">Spanish (ES) - Cheatsheet</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Portuguese (PT) - Cheatsheet</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Watch the Explainer Video (10 minutes)</a></li>
                            </ul>
                        </li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Customer Persona Guide - MDR</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat community projects - Community to enterprise (MDR Guide)</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">IT101 - IT Terminologies Guide for MDRs</a>
                            <ul class="list-circle pl-6 mt-1 text-sm italic">
                                <li><a href="#" class="text-gray-600 hover:underline">IT101 - Spanish</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">IT101 - Chinese</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">IT101 - Korean</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">IT101 - Japanese</a></li>
                            </ul>
                        </li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">MDR Tech Learning Series (videos)</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">AI Infographics for MDRs</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">AI/ML MDR Learning Series</a>
                            <ul class="list-circle pl-6 mt-1 text-sm italic">
                                <li><a href="#" class="text-gray-600 hover:underline">Episode 1: Understanding Artificial Intelligence (6.55 Mins)</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">External video training - AI/ML Foundations</a></li>
                            </ul>
                        </li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Learning Content - AI (NEW)</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat AI Certification: Red Hat AI Foundations Executive certificate</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Product Snippets (CHEATSHEET on RH products)</a>
                            <ul class="list-circle pl-6 mt-1 text-sm italic">
                                <li><a href="#" class="text-gray-600 hover:underline">Red Hat OpenShift AI Snippets</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Red Hat OpenShift Virtualization Snippets</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Red Hat Service Interconnect Snippets (NEW)</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Red Hat Application Foundations (NEW)</a></li>
                            </ul>
                        </li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Ecosystem Catalogue - MDR Enablement</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat cloud offerings terminologies - Market Dev Team</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">CY24 GTM Enablement Sessions recordings</a>
                            <ul class="list-circle pl-6 mt-1 text-sm italic">
                                <li><a href="#" class="text-gray-600 hover:underline">Link to APAC Recordings: APAC Market Development</a></li>
                            </ul>
                        </li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">CY23 GTM Enablement Sessions recordings</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Global Market Dev Enablement Channel - Red Hat Media Space</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Portfolio list</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">End of Life (EOL) products (Red Hat Fuse EOL & transition to the Red Hat build of Apache Camel - EOL on Jun 30, 2024)</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-xl font-semibold text-[--rh-dark-navy] mb-3">Additional Red Hat Resources (Maintained by Red Hat)</h3>
                    <ul class="list-disc pl-5 space-y-2 text-gray-700">
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Pricelist</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Messaging Index</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Customer Success Slide Deck</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Cross-sell and upsell Programs</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Summary of Changes - SKUs</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Content Center</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Sales plays</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Competitive Overview</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">The CIO’s alternative</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Official Red Hat product names list (OPL)</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">BU Subscription Guidance Page</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Dictionary</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat product trial center</a>
                            <ul class="list-circle pl-6 mt-1 text-sm italic">
                                <li><a href="#" class="text-gray-600 hover:underline">External trial link (Customers can request a trial)</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Internal trial link (AEs can request a trial using this link)</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-xl font-semibold text-[--rh-dark-navy] mb-3">Red Hat Continuous Learning Resources (Maintained by Red Hat)</h3>
                    <ul class="list-disc pl-5 space-y-2 text-gray-700">
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Product Training Videos</a>
                            <ul class="list-circle pl-6 mt-1 text-sm italic">
                                <li><a href="#" class="text-gray-600 hover:underline">Open Source and Red Hat (5.18 Minutes)</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Red Hat OpenShift - What is OpenShift?</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Red Hat’s subscription Model (5.25 Minutes)</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Red Hat Enterprise Linux (RHEL) - What is RHEL? (5.26Minutes)</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">The Business Value of RHEL (4.26 Minutes)</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">RHEL Use Cases (4.40 Minutes)</a></li>
                            </ul>
                        </li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">AI Fundamentals (RHU training)</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat Certification One-Stop</a></li>
                        <li><a href="#" class="text-[#004FFF] hover:underline">Red Hat 101 Training Video Series</a>
                            <ul class="list-circle pl-6 mt-1 text-sm italic">
                                <li><a href="#" class="text-gray-600 hover:underline">Open source Licensing</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Red Hat Enterprise Linux</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Virtualization</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Ansible Automation</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Red Hat OpenShift</a></li>
                                <li><a href="#" class="text-gray-600 hover:underline">Artificial Intelligence (AI)</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Discovery Pad & AI Insights Section -->
        <section class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-semibold text-[#004FFF] mb-4">Discovery Pad & AI Insights</h2>
            <p class="mb-4 text-gray-600">Jot down your notes from the customer conversation here. Then, click "Generate Insights" to get AI-powered suggestions!</p>

            <textarea id="customerNotes"
                      class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[--rh-red] focus:border-[--rh-red] mb-4 resize-y"
                      rows="10"
                      placeholder="Enter your customer conversation notes here... (e.g., 'Customer uses AWS for new apps, struggling with legacy data center migration. Looking for better automation for deployments.')"></textarea>

            <button id="generateInsightsBtn"
                    class="w-full text-white py-3 px-6 rounded-lg font-semibold transition duration-300 ease-in-out shadow-md flex items-center justify-center"
                    style="background-color: var(--rh-red); hover-bg-color: #A00000;">
                <span id="buttonText">✨ Generate Insights</span>
                <div id="loadingSpinner" class="loading-spinner ml-3 hidden"></div>
            </button>

            <div id="insightsOutput" class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg hidden">
                <h3 class="text-xl font-semibold text-[#004FFF] mb-3">AI-Generated Insights:</h3>
                <div id="insightsContent" class="prose max-w-none text-[--rh-dark-navy]">
                    <!-- Insights will be displayed here -->
                </div>
            </div>

            <!-- Error Message Box -->
            <div id="errorMessageBox" class="mt-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg hidden">
                <p id="errorMessageText"></p>
            </div>
        </section>

        <!-- New: Meeting Follow-up Email Draft Section -->
        <section class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-semibold text-[#004FFF] mb-4">Meeting Follow-up Email Draft</h2>
            <p class="mb-4 text-gray-600">Based on your notes in the "Discovery Pad" above, generate a draft follow-up email to the customer.</p>

            <button id="generateFollowupEmailBtn"
                    class="w-full text-white py-3 px-6 rounded-lg font-semibold transition duration-300 ease-in-out shadow-md flex items-center justify-center"
                    style="background-color: var(--rh-red); hover-bg-color: #A00000;">
                <span id="followupEmailButtonText">✨ Draft Follow-up Email</span>
                <div id="followupEmailLoadingSpinner" class="loading-spinner ml-3 hidden"></div>
            </button>

            <div id="followupEmailOutput" class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg hidden">
                <h3 class="text-xl font-semibold text-[#004FFF] mb-3">AI-Generated Email Draft:</h3>
                <div id="followupEmailContent" class="prose max-w-none text-[--rh-dark-navy]">
                    <!-- Email draft will be displayed here -->
                </div>
            </div>

            <!-- Error Message Box for Follow-up Email -->
            <div id="followupEmailErrorMessageBox" class="mt-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg hidden">
                <p id="followupEmailErrorMessageText"></p>
            </div>
        </section>

        <!-- New: Red Hat ROI Estimator Section -->
        <section class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-semibold text-[#004FFF] mb-4">Red Hat ROI Estimator</h2>
            <p class="mb-4 text-gray-600">Estimate potential annual savings and ROI by inputting key customer environment details. This is an illustrative estimate.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <div>
                    <label for="numServers" class="block text-sm font-medium text-gray-700">Number of Servers (RHEL/Linux):</label>
                    <input type="number" id="numServers" value="100" min="0" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-[--rh-red] focus:border-[--rh-red]">
                </div>
                <div>
                    <label for="devTeams" class="block text-sm font-medium text-gray-700">Number of Development Teams (OpenShift):</label>
                    <input type="number" id="devTeams" value="5" min="0" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-[--rh-red] focus:border-[--rh-red]">
                </div>
                <div>
                    <label for="manualTasks" class="block text-sm font-medium text-gray-700">Avg. Weekly Manual IT Tasks (Ansible):</label>
                    <input type="number" id="manualTasks" value="20" min="0" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-[--rh-red] focus:border-[--rh-red]">
                </div>
                <div>
                    <label for="avgHourlyCost" class="block text-sm font-medium text-gray-700">Avg. Hourly IT Labor Cost ($):</label>
                    <input type="number" id="avgHourlyCost" value="75" min="0" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-[--rh-red] focus:border-[--rh-red]">
                </div>
            </div>

            <button id="calculateRoiBtn"
                    class="w-full text-white py-3 px-6 rounded-lg font-semibold transition duration-300 ease-in-out shadow-md flex items-center justify-center"
                    style="background-color: var(--rh-red); hover-bg-color: #A00000;">
                <span id="roiButtonText">📈 Calculate Estimated Annual Savings</span>
                <div id="roiLoadingSpinner" class="loading-spinner ml-3 hidden"></div>
            </button>

            <div id="roiOutput" class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg hidden">
                <h3 class="text-xl font-semibold text-[#004FFF] mb-3">Estimated Annual Savings:</h3>
                <p id="roiResult" class="text-2xl font-bold text-[--rh-dark-navy]"></p>
                <p class="text-sm text-gray-600 mt-2">
                    *This is an illustrative estimate based on industry averages and assumed efficiency gains. Actual results may vary.
                </p>
            </div>

            <!-- Error Message Box for ROI -->
            <div id="roiErrorMessageBox" class="mt-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg hidden">
                <p id="roiErrorMessageText"></p>
            </div>
        </section>


        <!-- New: Objection Handling Section -->
        <section class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-semibold text-[#004FFF] mb-4">Objection Handling Assistant</h2>
            <p class="mb-4 text-gray-600">Enter a common customer objection, and get AI-powered Red Hat-aligned rebuttals and talking points.</p>

            <textarea id="objectionInput"
                      class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[--rh-red] focus:border-[--rh-red] mb-4 resize-y"
                      rows="4"
                      placeholder="e.g., 'Red Hat is too expensive compared to open source alternatives.'"></textarea>

            <button id="generateRebuttalBtn"
                    class="w-full text-white py-3 px-6 rounded-lg font-semibold transition duration-300 ease-in-out shadow-md flex items-center justify-center"
                    style="background-color: var(--rh-red); hover-bg-color: #A00000;">
                <span id="rebuttalButtonText">✨ Generate Rebuttal</span>
                <div id="rebuttalLoadingSpinner" class="loading-spinner ml-3 hidden"></div>
            </button>

            <div id="rebuttalOutput" class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg hidden">
                <h3 class="text-xl font-semibold text-[#004FFF] mb-3">AI-Generated Rebuttal:</h3>
                <div id="rebuttalContent" class="prose max-w-none text-[--rh-dark-navy]">
                    <!-- Rebuttal will be displayed here -->
                </div>
            </div>

            <!-- Error Message Box for Rebuttal -->
            <div id="rebuttalErrorMessageBox" class="mt-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg hidden">
                <p id="rebuttalErrorMessageText"></p>
            </div>
        </section>

        <!-- New: Tailored Questions Section -->
        <section class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-semibold text-[#004FFF] mb-4">Tailored Question Generator</h2>
            <p class="mb-4 text-gray-600">Provide an industry or a specific use case, and get AI-suggested questions to ask your customer.</p>

            <input type="text" id="industryUseCasesInput"
                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[--rh-red] focus:border-[--rh-red] mb-4"
                   placeholder="e.g., 'Financial Services, Cloud Migration' or 'Healthcare, AI/ML adoption'"/>

            <button id="generateQuestionsBtn"
                    class="w-full text-white py-3 px-6 rounded-lg font-semibold transition duration-300 ease-in-out shadow-md flex items-center justify-center"
                    style="background-color: var(--rh-red); hover-bg-color: #A00000;">
                <span id="questionsButtonText">✨ Generate Tailored Questions</span>
                <div id="questionsLoadingSpinner" class="loading-spinner ml-3 hidden"></div>
            </button>

            <div id="questionsOutput" class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg hidden">
                <h3 class="text-xl font-semibold text-[#004FFF] mb-3">AI-Generated Questions:</h3>
                <div id="questionsContent" class="prose max-w-none text-[--rh-dark-navy]">
                    <!-- Questions will be displayed here -->
                </div>
            </div>

            <!-- Error Message Box for Questions -->
            <div id="questionsErrorMessageBox" class="mt-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg hidden">
                <p id="questionsErrorMessageText"></p>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm mt-8">
            <p>&copy; 2025 Red Hat Customer Discovery Tool. All rights reserved.</p>
        </footer>
    </div>

    <script type="module">
        // Accordion functionality for main sections
        document.querySelectorAll('.accordion-header').forEach(button => {
            button.addEventListener('click', () => {
                const accordionContent = button.nextElementSibling;
                const svgIcon = button.querySelector('svg');

                // Close all other open accordions
                document.querySelectorAll('.accordion-content.active').forEach(openContent => {
                    if (openContent !== accordionContent) {
                        openContent.classList.remove('active');
                        openContent.previousElementSibling.querySelector('svg').classList.remove('rotate-180');
                    }
                });

                // Toggle the clicked accordion
                accordionContent.classList.toggle('active');
                svgIcon.classList.toggle('rotate-180');
            });
        });

        // Toggle functionality for sub-questions
        document.querySelectorAll('.sub-question-toggle').forEach(toggleSpan => {
            toggleSpan.addEventListener('click', (event) => {
                // Stop propagation to prevent the parent accordion from closing
                event.stopPropagation();
                const subQuestionsList = toggleSpan.nextElementSibling;
                const icon = toggleSpan.querySelector('.sub-question-icon');

                subQuestionsList.classList.toggle('active');
                subQuestionsList.classList.toggle('hidden'); // Toggle hidden class for initial state
                icon.classList.toggle('rotate-180');
            });
        });

        // Helper function for AI API calls
        async function callGeminiAPI(prompt, outputDiv, contentDiv, buttonSpan, loadingDiv, errorBox, errorTextSpan) {
            hideErrorMessage(errorBox, errorTextSpan);
            outputDiv.classList.add('hidden');
            contentDiv.innerHTML = '';
            buttonSpan.textContent = 'Generating...';
            loadingDiv.classList.remove('hidden');
            buttonSpan.parentNode.disabled = true; // Disable the button

            try {
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; // If you want to use models other than gemini-2.0-flash or imagen-3.0-generate-002, provide an API key here. Otherwise, leave this as-is.
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    contentDiv.innerHTML = formatTextToHtml(text);
                    outputDiv.classList.remove('hidden');
                } else {
                    showErrorMessage('Failed to generate response. The AI response was empty or malformed.', errorBox, errorTextSpan);
                    console.error('AI response error:', result);
                }
            } catch (error) {
                showErrorMessage('An error occurred while generating response. Please try again.', errorBox, errorTextSpan);
                console.error('Fetch error:', error);
            } finally {
                loadingDiv.classList.add('hidden');
                buttonSpan.parentNode.disabled = false; // Re-enable the button
            }
        }

        // Function to show error message
        function showErrorMessage(message, errorBox, errorTextSpan) {
            errorTextSpan.textContent = message;
            errorBox.classList.remove('hidden');
        }

        // Function to hide error message
        function hideErrorMessage(errorBox, errorTextSpan) {
            errorBox.classList.add('hidden');
            errorTextSpan.textContent = '';
        }

        // Discovery Pad & AI Insights Generation
        const generateInsightsBtn = document.getElementById('generateInsightsBtn');
        const customerNotesTextarea = document.getElementById('customerNotes');
        const insightsOutputDiv = document.getElementById('insightsOutput');
        const insightsContentDiv = document.getElementById('insightsContent');
        const insightsLoadingSpinner = document.getElementById('loadingSpinner');
        const insightsButtonText = document.getElementById('buttonText');
        const insightsErrorMessageBox = document.getElementById('errorMessageBox');
        const insightsErrorMessageText = document.getElementById('errorMessageText');

        generateInsightsBtn.addEventListener('click', async () => {
            const notes = customerNotesTextarea.value.trim();
            if (!notes) {
                showErrorMessage('Please enter some customer notes before generating insights.', insightsErrorMessageBox, insightsErrorMessageText);
                return;
            }
            const prompt = `As an experienced Red Hat solutions architect, analyze the following customer conversation notes. Provide:
            1.  **Summary of Customer Environment & Challenges:** Briefly summarize the key aspects of their current environment and the challenges/pain points they are experiencing.
            2.  **Potential Red Hat Solutions Alignment:** Suggest specific Red Hat products or solutions that could address their identified needs. Explain why each is relevant.
            3.  **Suggested Next Steps/Deeper Dive Questions:** Propose follow-up questions or areas for the MDR to explore further in subsequent conversations to qualify the opportunity.

            Customer Notes:
            ${notes}`;
            await callGeminiAPI(prompt, insightsOutputDiv, insightsContentDiv, insightsButtonText, insightsLoadingSpinner, insightsErrorMessageBox, insightsErrorMessageText);
            insightsButtonText.textContent = '✨ Generate Insights'; // Reset text after call
        });

        // Meeting Follow-up Email Draft Generator
        const generateFollowupEmailBtn = document.getElementById('generateFollowupEmailBtn');
        const customerNotesForEmail = document.getElementById('customerNotes'); // Re-using the existing notes textarea
        const followupEmailOutput = document.getElementById('followupEmailOutput');
        const followupEmailContent = document.getElementById('followupEmailContent');
        const followupEmailLoadingSpinner = document.getElementById('followupEmailLoadingSpinner');
        const followupEmailButtonText = document.getElementById('followupEmailButtonText');
        const followupEmailErrorMessageBox = document.getElementById('followupEmailErrorMessageBox');
        const followupEmailErrorMessageText = document.getElementById('followupEmailErrorMessageText');

        generateFollowupEmailBtn.addEventListener('click', async () => {
            const notes = customerNotesForEmail.value.trim();
            if (!notes) {
                showErrorMessage('Please enter customer notes in the "Discovery Pad" above to draft a follow-up email.', followupEmailErrorMessageBox, followupEmailErrorMessageText);
                return;
            }
            const prompt = `Draft a professional and concise follow-up email to a customer based on the following meeting notes. The email should summarize key discussion points, reiterate potential value, and propose clear next steps. Assume a friendly yet professional tone.

            Meeting Notes:
            ${notes}`;
            await callGeminiAPI(prompt, followupEmailOutput, followupEmailContent, followupEmailButtonText, followupEmailLoadingSpinner, followupEmailErrorMessageBox, followupEmailErrorMessageText);
            followupEmailButtonText.textContent = '✨ Draft Follow-up Email'; // Reset text after call
        });

        // ROI Calculator Logic
        const calculateRoiBtn = document.getElementById('calculateRoiBtn');
        const numServersInput = document.getElementById('numServers');
        const devTeamsInput = document.getElementById('devTeams');
        const manualTasksInput = document.getElementById('manualTasks');
        const avgHourlyCostInput = document.getElementById('avgHourlyCost');
        const roiOutputDiv = document.getElementById('roiOutput');
        const roiResultP = document.getElementById('roiResult');
        const roiLoadingSpinner = document.getElementById('roiLoadingSpinner');
        const roiButtonText = document.getElementById('roiButtonText');
        const roiErrorMessageBox = document.getElementById('roiErrorMessageBox');
        const roiErrorMessageText = document.getElementById('roiErrorMessageText');

        calculateRoiBtn.addEventListener('click', () => {
            hideErrorMessage(roiErrorMessageBox, roiErrorMessageText);
            roiOutputDiv.classList.add('hidden');
            roiResultP.textContent = '';
            roiButtonText.textContent = 'Calculating...';
            roiLoadingSpinner.classList.remove('hidden');
            calculateRoiBtn.disabled = true;

            const numServers = parseFloat(numServersInput.value);
            const devTeams = parseFloat(devTeamsInput.value);
            const manualTasks = parseFloat(manualTasksInput.value);
            const avgHourlyCost = parseFloat(avgHourlyCostInput.value);

            if (isNaN(numServers) || isNaN(devTeams) || isNaN(manualTasks) || isNaN(avgHourlyCost) ||
                numServers < 0 || devTeams < 0 || manualTasks < 0 || avgHourlyCost < 0) {
                showErrorMessage('Please enter valid positive numbers for all fields.', roiErrorMessageBox, roiErrorMessageText);
                roiButtonText.textContent = '📈 Calculate Estimated Annual Savings';
                roiLoadingSpinner.classList.add('hidden');
                calculateRoiBtn.disabled = false;
                return;
            }

            // Simplified ROI Calculation Logic (Illustrative)
            // These are example multipliers. In a real scenario, these would come from
            // detailed Red Hat value propositions, case studies, or economic models.

            // RHEL savings: Assume each RHEL server saves X hours/year in management compared to other Linux or Windows
            // and reduces security incidents. Let's simplify to a per-server annual saving.
            const rhelSavingsPerServer = 500; // Example: $500 annual saving per server due to better management, security

            // OpenShift savings: Assume OpenShift accelerates development and reduces infrastructure costs per team.
            const openshiftSavingsPerTeam = 25000; // Example: $25,000 annual saving per dev team due to faster dev/ops, infra optimization

            // Ansible Automation savings: Assume each manual task automated saves Y minutes/week.
            // 1 manual task automated saves 1 hour/week (very rough estimate)
            const automationSavingsPerTaskWeeklyHours = 1; // 1 hour per task per week
            const automationSavingsPerTaskAnnually = manualTasks * automationSavingsPerTaskWeeklyHours * avgHourlyCost * 52; // 52 weeks in a year

            const totalEstimatedSavings =
                (numServers * rhelSavingsPerServer) +
                (devTeams * openshiftSavingsPerTeam) +
                automationSavingsPerTaskAnnually;

            setTimeout(() => { // Simulate a small delay for calculation
                roiResultP.textContent = `$${totalEstimatedSavings.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`;
                roiOutputDiv.classList.remove('hidden');
                roiButtonText.textContent = '📈 Calculate Estimated Annual Savings';
                roiLoadingSpinner.classList.add('hidden');
                calculateRoiBtn.disabled = false;
            }, 1000); // 1 second delay
        });


        // Objection Handling Generator
        const generateRebuttalBtn = document.getElementById('generateRebuttalBtn');
        const objectionInput = document.getElementById('objectionInput');
        const rebuttalOutput = document.getElementById('rebuttalOutput');
        const rebuttalContent = document.getElementById('rebuttalContent');
        const rebuttalLoadingSpinner = document.getElementById('rebuttalLoadingSpinner');
        const rebuttalButtonText = document.getElementById('rebuttalButtonText');
        const rebuttalErrorMessageBox = document.getElementById('rebuttalErrorMessageBox');
        const rebuttalErrorMessageText = document.getElementById('rebuttalErrorMessageText');

        generateRebuttalBtn.addEventListener('click', async () => {
            const objection = objectionInput.value.trim();
            if (!objection) {
                showErrorMessage('Please enter an objection before generating a rebuttal.', rebuttalErrorMessageBox, rebuttalErrorMessageText);
                return;
            }
            const prompt = `As a Red Hat sales expert, provide a concise and effective rebuttal or talking points for the following customer objection, focusing on Red Hat's value proposition:

            Customer Objection: "${objection}"`;
            await callGeminiAPI(prompt, rebuttalOutput, rebuttalContent, rebuttalButtonText, rebuttalLoadingSpinner, rebuttalErrorMessageBox, rebuttalErrorMessageText);
            rebuttalButtonText.textContent = '✨ Generate Rebuttal'; // Reset text after call
        });

        // Tailored Questions Generator
        const generateQuestionsBtn = document.getElementById('generateQuestionsBtn');
        const industryUseCasesInput = document.getElementById('industryUseCasesInput');
        const questionsOutput = document.getElementById('questionsOutput');
        const questionsContent = document.getElementById('questionsContent');
        const questionsLoadingSpinner = document.getElementById('questionsLoadingSpinner');
        const questionsButtonText = document.getElementById('questionsButtonText');
        const questionsErrorMessageBox = document.getElementById('questionsErrorMessageBox');
        const questionsErrorMessageText = document.getElementById('errorMessageText');

        generateQuestionsBtn.addEventListener('click', async () => {
            const input = industryUseCasesInput.value.trim();
            if (!input) {
                showErrorMessage('Please enter an industry or use case before generating questions.', questionsErrorMessageBox, questionsErrorMessageText);
                return;
            }
            const prompt = `As a Red Hat solutions architect, generate 5-7 insightful discovery questions for a customer in the following context (industry/use case): "${input}". Focus on questions that would help uncover their challenges and potential alignment with Red Hat solutions.`;
            await callGeminiAPI(prompt, questionsOutput, questionsContent, questionsButtonText, questionsLoadingSpinner, questionsErrorMessageBox, questionsErrorMessageText);
            questionsButtonText.textContent = '✨ Generate Tailored Questions'; // Reset text after call
        });

        // Simple Markdown to HTML converter (for basic formatting like bold, lists)
        function formatTextToHtml(markdownText) {
            let html = markdownText;

            // Convert bold (**text**)
            html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            // Convert italics (*text*)
            html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');
            // Convert headers (# Header, ## Subheader, etc.) - simple conversion
            html = html.replace(/^### (.*$)/gim, '<h4>$1</h4>');
            html = html.replace(/^## (.*$)/gim, '<h3>$1</h3>');
            html = html.replace(/^# (.*$)/gim, '<h2>$1</h2>');
            // Convert unordered lists (- item)
            html = html.replace(/^- (.*$)/gim, '<li>$1</li>');
            if (html.includes('<li>')) {
                html = '<ul>' + html + '</ul>';
                html = html.replace(/<\/ul>(\s*)<ul>/g, '$1'); // Remove redundant ul tags
            }
            // Convert numbered lists (1. item)
            html = html.replace(/^\d+\. (.*$)/gim, '<li>$1</li>');
            if (html.includes('<li>') && !html.includes('<ul>')) { // Only if not already handled as unordered
                html = '<ol>' + html + '</ol>';
                html = html.replace(/<\/ol>(\s*)<ol>/g, '$1'); // Remove redundant ol tags
            }
            // Convert newlines to breaks
            html = html.replace(/\n/g, '<br>');

            return html;
        }
    </script>
</body>
</html>
